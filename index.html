<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>A SMARTER ME!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Quicksand:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --safe-area-inset-top: env(safe-area-inset-top, 0px);
            --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
        }

        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(-45deg, rgb(46, 26, 71), rgb(26, 26, 46), rgb(15, 48, 87), rgb(75, 0, 130));
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            font-family: 'Quicksand', sans-serif;
            overflow: hidden;
            color: white;
            height: 100vh;
            width: 100vw;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .cinzel { font-family: 'Cinzel', serif; }

        .gold-border {
            border: clamp(3px, 0.5vw, 10px) solid rgb(255, 215, 0);
            box-shadow: 0 0 40px rgba(255, 215, 0, 0.3), inset 0 0 20px rgba(255, 215, 0, 0.1);
        }

        .shiny-gold-text {
            background: linear-gradient(to right, #ffd700, #fffacd, #ffd700, #daa520, #ffd700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 200% auto;
            animation: shimmer 3s linear infinite;
        }

        @keyframes shimmer {
            to { background-position: 200% center; }
        }

        .choice-btn-unified { 
            background: linear-gradient(135deg, rgb(74, 0, 224), rgb(142, 45, 226)); 
        }

        .choice-btn {
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }

        .choice-btn:active { transform: scale(0.95); }

        .lion-container {
            animation: bounce 3s infinite alternate ease-in-out;
            max-height: 25vh;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
        }

        @keyframes bounce {
            from { transform: translateY(0) scale(1); }
            to { transform: translateY(-2vh) scale(1.05); }
        }

        .screen {
            display: none;
            width: 100%;
            height: 100%;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: calc(2rem + var(--safe-area-inset-top)) 2rem calc(2rem + var(--safe-area-inset-bottom));
            text-align: center;
            position: absolute;
            top: 0;
            left: 0;
        }

        .screen.active { display: flex; }

        .bg-canvas-layer {
            position: fixed;
            top: 0; left: 0; z-index: -1;
            width: 100vw; height: 100vh;
        }

        .content-wrap {
            width: 95%;
            max-width: 1600px;
            height: 90%;
            max-height: 1000px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-evenly;
            margin: auto;
        }

        .ui-btn {
            position: fixed;
            top: clamp(1rem, 3vh, 3rem);
            z-index: 100;
            background: rgba(255, 215, 0, 0.15);
            border: clamp(2px, 0.3vw, 5px) solid rgb(255, 215, 0);
            border-radius: clamp(10px, 1.5vw, 25px);
            width: clamp(50px, 6vw, 100px); 
            height: clamp(50px, 6vw, 100px);
            display: flex; align-items: center; justify-content: center;
            color: rgb(255, 215, 0);
            cursor: pointer;
            transition: transform 0.2s, background 0.2s;
        }

        .ui-btn svg {
            width: 60%;
            height: 60%;
        }

        .ui-btn:active { transform: scale(0.9); background: rgba(255, 215, 0, 0.3); }
        .home-btn { left: clamp(1rem, 3vh, 3rem); display: none; }
        .fullscreen-btn { right: clamp(1rem, 3vh, 3rem); }

        .conclusion-prefix {
            font-family: 'Quicksand', sans-serif;
            font-size: 0.35em;
            display: block;
            margin-bottom: 2vh;
            opacity: 1;
            -webkit-text-fill-color: white;
            text-transform: none;
            font-weight: 700;
        }

        /* Responsive Text Scaling for Large Displays */
        h1 { font-size: clamp(4.5rem, 15vw, 22rem); }
        /* Questions (h2) now match the massive scale of the main title */
        h2 { font-size: clamp(3.5rem, 8vw, 12rem); }
        p { font-size: clamp(1.4rem, 3vw, 4rem); }

        @media (min-width: 1900px) {
            .content-wrap { max-width: 2000px; max-height: 1200px; }
            h1 { font-size: clamp(8rem, 20vw, 30rem); }
            h2 { font-size: clamp(5rem, 12vw, 18rem); }
            .choice-btn { min-height: 450px !important; }
        }

        @media (orientation: landscape) {
            .content-wrap { gap: 2vh; }
            .lion-container { max-height: 20vh; }
        }

        @media (max-height: 700px) and (orientation: landscape) {
            .content-wrap { flex-direction: row; flex-wrap: wrap; justify-content: center; gap: 4vw; }
            .lion-container { width: 20%; max-height: 30vh; }
            .start-text-group { width: 70%; }
            h1 { font-size: clamp(3.5rem, 12vh, 10rem) !important; }
            h2 { font-size: clamp(2.5rem, 8vh, 8rem) !important; }
            .grid { grid-template-columns: repeat(2, 1fr) !important; width: 90%; }
            .question-header { width: 100%; }
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            pointer-events: none;
        }

        .advice-list {
            text-align: center;
            display: flex;
            flex-direction: column;
            gap: 1vh;
            width: 100%;
        }

        .advice-item {
            font-size: clamp(1.1rem, 2.2vh, 2.5rem);
            line-height: 1.4;
        }

        .advice-scroll {
            max-height: 35vh;
            overflow-y: auto;
            width: 100%;
            padding: 1vh;
        }
        
        #progress-bar {
            height: clamp(10px, 2vh, 30px);
        }
    </style>
</head>
<body>

    <canvas id="bg-canvas" class="bg-canvas-layer"></canvas>

    <button id="home-btn" class="ui-btn home-btn" title="Go to Intro">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
            <polyline points="9 22 9 12 15 12 15 22"/>
        </svg>
    </button>

    <button id="fs-btn" class="ui-btn fullscreen-btn" title="Full Screen">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/>
        </svg>
    </button>

    <div id="start-screen" class="screen active">
        <div class="content-wrap">
            <div class="lion-container">
                <svg class="w-40 h-40 sm:w-64 sm:h-64 md:w-80 md:h-80" viewBox="0 0 100 100">
                    <circle cx="50" cy="50" r="45" fill="rgba(255, 215, 0, 0.2)" stroke="rgb(255, 215, 0)" stroke-width="2" />
                    <path d="M50 15L58 38H82L63 52L70 75L50 60L30 75L37 52L18 38H42L50 15Z" fill="rgb(255, 215, 0)" />
                </svg>
            </div>
            <div class="start-text-group space-y-10">
                <h1 class="cinzel shiny-gold-text uppercase font-black leading-none">A SMARTER ME!</h1>
                <p class="text-cyan-200 font-bold uppercase tracking-widest">Find your special heart!</p>
                <button id="start-btn" class="bg-gradient-to-r from-yellow-400 via-orange-500 to-red-500 gold-border px-16 py-6 sm:px-28 sm:py-10 rounded-full text-3xl sm:text-5xl cinzel uppercase font-black text-white shadow-2xl transition-transform active:scale-90 hover:brightness-110">Play Game</button>
            </div>
        </div>
    </div>

    <div id="question-screen" class="screen">
        <div class="content-wrap">
            <div class="question-header w-full max-w-5xl space-y-10">
                <div id="progress-bar" class="w-full bg-white/10 rounded-full overflow-hidden border border-white/5">
                    <div id="progress-inner" class="h-full bg-gradient-to-r from-cyan-400 to-blue-500 transition-all duration-500" style="width: 0%"></div>
                </div>
                <h2 id="question-text" class="cinzel text-white font-bold leading-tight">What do you pick?</h2>
            </div>
            
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-10 w-full">
                <button id="btn-a" class="choice-btn choice-btn-unified gold-border p-10 rounded-[40px] flex flex-col items-center justify-center space-y-8 min-h-[250px]">
                    <div id="option-a-icon" class="text-8xl sm:text-9xl md:text-[10rem]">‚ú®</div>
                    <span id="option-a-text" class="text-xl sm:text-3xl font-black uppercase text-white">Action One</span>
                </button>
                <button id="btn-b" class="choice-btn choice-btn-unified gold-border p-10 rounded-[40px] flex flex-col items-center justify-center space-y-8 min-h-[250px]">
                    <div id="option-b-icon" class="text-8xl sm:text-9xl md:text-[10rem]">üåü</div>
                    <span id="option-b-text" class="text-xl sm:text-3xl font-black uppercase text-white">Action Two</span>
                </button>
            </div>
        </div>
    </div>

    <div id="result-screen" class="screen">
        <div class="content-wrap">
            <h1 id="result-title" class="cinzel shiny-gold-text uppercase font-black text-center leading-none"></h1>
            <div class="lion-container">
                <svg id="result-svg" class="w-56 h-56 sm:w-72 sm:h-72 md:w-96 md:h-96" viewBox="0 0 200 200">
                    <circle cx="100" cy="100" r="80" fill="url(#auraGrad)" opacity="0.6" />
                    <defs>
                        <radialGradient id="auraGrad"><stop offset="0%" stop-color="rgb(255, 215, 0)" /><stop offset="100%" stop-color="transparent" /></radialGradient>
                    </defs>
                    <path id="svg-cape" d="M30 70 Q100 20 170 70 L190 190 Q100 160 10 190 Z" fill="rgb(233, 30, 99)" />
                    <circle id="svg-mane" cx="100" cy="100" r="65" fill="#ff9800" />
                    <circle id="svg-mane-inner" cx="100" cy="100" r="55" fill="#ffeb3b" />
                    <ellipse cx="100" cy="110" rx="45" ry="50" fill="#ffe0b2" />
                    <circle cx="82" cy="100" r="7" fill="rgb(26, 26, 46)" />
                    <circle cx="118" cy="100" r="7" fill="rgb(26, 26, 46)" />
                    <path d="M92 120 L108 120 L100 128 Z" fill="rgb(93, 64, 55)" />
                    <g id="accessory-group">
                        <path id="svg-hat" d="M60 60 L75 30 L100 50 L125 30 L140 60 Z" fill="rgb(255, 215, 0)" stroke="rgb(255, 143, 0)" stroke-width="3"/>
                        <circle id="dot-1" cx="60" cy="60" r="5" fill="rgb(244, 67, 54)" />
                        <circle id="dot-2" cx="100" cy="50" r="5" fill="rgb(33, 150, 243)" />
                        <circle id="dot-3" cx="140" cy="60" r="5" fill="rgb(76, 175, 80)" />
                    </g>
                </svg>
            </div>
            <div class="w-full max-w-5xl text-center space-y-6">
                <div class="advice-scroll">
                    <div id="result-advice-container" class="advice-list text-cyan-200 font-medium px-6 italic opacity-90"></div>
                </div>
                <button id="replay-btn" class="bg-gradient-to-r from-yellow-400 via-orange-500 to-red-500 gold-border px-16 py-6 sm:px-24 sm:py-8 rounded-full cinzel text-2xl sm:text-4xl font-black uppercase text-white shadow-2xl transition-transform active:scale-95 hover:brightness-110">Play Again</button>
            </div>
        </div>
    </div>

    <script>
        window.onload = function() {
            const adventureBank = [
                { q: "You find some trash on the floor.", a: { text: "Pick it up", icon: "üóëÔ∏è", advice: "Helping keep our home clean is a super choice!" }, b: { text: "Leave it there", icon: "üö∂", advice: "Try to pick up one thing next time to help out!" } },
                { q: "A friend is feeling sad.", a: { text: "Say kind words", icon: "‚ù§Ô∏è", advice: "Your kind words make everyone feel happy!" }, b: { text: "Walk away", icon: "üë£", advice: "Even a small smile can help a friend feel better!" } },
                { q: "You finish playing with toys.", a: { text: "Clean them up", icon: "üß∏", advice: "Cleaning up toys is what smart helpers do!" }, b: { text: "Make a mess", icon: "üå™Ô∏è", advice: "Putting toys back helps you find them next time!" } },
                { q: "You have a yummy snack.", a: { text: "Share with others", icon: "üç™", advice: "Sharing snacks is the best way to have fun!" }, b: { text: "Eat it all alone", icon: "üôä", advice: "Sharing snacks makes everyone have more fun next time!" } },
                { q: "You feel very angry.", a: { text: "Take deep breaths", icon: "üå¨Ô∏è", advice: "Deep breaths help you stay calm and wise!" }, b: { text: "Scream and shout", icon: "üì¢", advice: "If you feel mad, try counting to five next time!" } },
                { q: "Someone needs help reaching a toy.", a: { text: "Help them out", icon: "ü§ù", advice: "Helping others reach their goals is great!" }, b: { text: "Keep it for yourself", icon: "ü§ö", advice: "Being a helper feels better than playing alone!" } },
                { q: "You see a thirsty plant.", a: { text: "Give it water", icon: "üíß", advice: "Caring for nature shows you are very thoughtful!" }, b: { text: "Pull its leaves", icon: "ü•Ä", advice: "Next time, try to be soft and gentle with plants!" } },
                { q: "You make a little mistake.", a: { text: "Say sorry", icon: "üôè", advice: "Being honest shows how brave you are!" }, b: { text: "Blame a friend", icon: "üëâ", advice: "It's okay to make mistakes; just try to tell the truth!" } },
                { q: "Time for bed but teeth are dirty.", a: { text: "Brush them now", icon: "ü™•", advice: "Strong teeth help you chew yummy food!" }, b: { text: "Skip it", icon: "üò¥", advice: "Brush twice a day to keep your smile bright!" } },
                { q: "You are ready for lunch.", a: { text: "Wash hands well", icon: "üßº", advice: "Washing hands keeps the tiny germs away!" }, b: { text: "Eat right away", icon: "üçî", advice: "Wash your hands before eating to stay healthy!" } },
                { q: "You are near a busy road.", a: { text: "Hold a hand", icon: "ü§ù", advice: "Holding hands keeps you safe near cars!" }, b: { text: "Run across", icon: "üöÄ", advice: "Always hold an adult's hand when crossing the road!" } },
                { q: "You get into the car.", a: { text: "Click seatbelt", icon: "üîí", advice: "Buckling up is what smart travelers do!" }, b: { text: "Leave it off", icon: "üöó", advice: "Always wear your seatbelt to be safe in the car!" } },
                { q: "The stove looks very hot.", a: { text: "Stay away", icon: "üôÖ", advice: "Staying away from heat keeps your skin safe!" }, b: { text: "Touch it", icon: "üî•", advice: "Never touch the stove; it can be very hot!" } },
                { q: "You want a toy someone has.", a: { text: "Say Please", icon: "üòá", advice: "Kind words make people happy to help you!" }, b: { text: "Just grab it", icon: "üò§", advice: "Using polite words shows you are a kind leader!" } },
                { q: "A friend is on the slide.", a: { text: "Wait your turn", icon: "üßç", advice: "Waiting for your turn is fair and friendly!" }, b: { text: "Push in front", icon: "üèéÔ∏è", advice: "Taking turns makes playing more fun for everyone!" } },
                { q: "A friend falls down.", a: { text: "Ask if okay", icon: "ü´Ç", advice: "Helping a friend shows you have a big heart!" }, b: { text: "Laugh at them", icon: "ü§≠", advice: "Be kind when others fall; they might be hurt!" } },
                { q: "Your shirt is dirty.", a: { text: "Put in basket", icon: "üß∫", advice: "Putting clothes away helps keep your room tidy!" }, b: { text: "Drop on floor", icon: "üëï", advice: "Try to put your dirty clothes in the basket!" } },
                { q: "Dad is carrying big bags.", a: { text: "Help a little", icon: "üí™", advice: "Helping your family makes you a super helper!" }, b: { text: "Say I'm tired", icon: "üò¥", advice: "Even carrying one small bag is a big help!" } },
                { q: "You are brushing teeth.", a: { text: "Turn off water", icon: "üö±", advice: "Saving water helps the whole planet stay happy!" }, b: { text: "Let it run", icon: "üíß", advice: "Turn off the tap while brushing to save water!" } },
                { q: "You feel a big sneeze coming.", a: { text: "Use a tissue", icon: "ü§ß", advice: "Using a tissue keeps your friends healthy!" }, b: { text: "Sneeze on hand", icon: "üå¨Ô∏è", advice: "Sneeze into your elbow to stop germs from spreading!" } }
            ];

            const resultCategories = {
                high: ["A HELPFUL LEADER!", "A KIND FRIEND!", "A THOUGHTFUL HERO!", "A CARING TEAMMATE!", "A GENEROUS PARTNER!", "A WISE ROLE MODEL!"],
                medium: ["A BRAVE TRYER!", "A STEADY HELPER!", "A GOOD STUDENT!", "A GROWING FRIEND!"]
            };

            let activeQuestions = [], currentQuestion = 0, scoreA = 0;
            let growthAdviceList = [], positiveAdviceList = [];
            const canvas = document.getElementById('bg-canvas'), ctx = canvas.getContext('2d');
            let particles = [];

            function resize() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
                initParticles();
            }

            class Particle {
                constructor() { this.reset(); }
                reset() {
                    this.x = Math.random() * canvas.width;
                    this.y = Math.random() * canvas.height;
                    this.size = Math.random() * 5 + 1;
                    this.speedX = (Math.random() - 0.5) * 1.5;
                    this.speedY = (Math.random() - 0.5) * 1.5;
                    this.opacity = Math.random();
                    this.color = ['#ffd700', '#daa520', '#fffacd', '#ffffff'][Math.floor(Math.random() * 4)];
                }
                update() {
                    this.x += this.speedX; this.y += this.speedY;
                    if (this.x < 0 || this.x > canvas.width || this.y < 0 || this.y > canvas.height) this.reset();
                }
                draw() {
                    ctx.fillStyle = this.color; ctx.globalAlpha = this.opacity * 0.45;
                    ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2); ctx.fill();
                }
            }

            function initParticles() {
                particles = [];
                const count = window.innerWidth < 768 ? 40 : 120;
                for (let i = 0; i < count; i++) particles.push(new Particle());
            }

            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                particles.forEach(p => { p.update(); p.draw(); });
                requestAnimationFrame(animate);
            }

            function showScreen(id) {
                document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
                document.getElementById(id).classList.add('active');
                document.getElementById('home-btn').style.display = (id === 'start-screen') ? 'none' : 'flex';
            }

            function loadQuestion() {
                const data = activeQuestions[currentQuestion];
                document.getElementById('question-text').innerText = data.q;
                const isSwapped = Math.random() > 0.5;
                const opt1 = isSwapped ? data.b : data.a, opt2 = isSwapped ? data.a : data.b;
                const btnA = document.getElementById('btn-a'), btnB = document.getElementById('btn-b');

                document.getElementById('option-a-text').innerText = opt1.text;
                document.getElementById('option-a-icon').innerText = opt1.icon;
                btnA.setAttribute('data-type', isSwapped ? 'B' : 'A');
                btnA.setAttribute('data-advice', opt1.advice);

                document.getElementById('option-b-text').innerText = opt2.text;
                document.getElementById('option-b-icon').innerText = opt2.icon;
                btnB.setAttribute('data-type', isSwapped ? 'A' : 'B');
                btnB.setAttribute('data-advice', opt2.advice);

                document.getElementById('progress-inner').style.width = `${(currentQuestion / activeQuestions.length) * 100}%`;
            }

            function startGame() {
                activeQuestions = [...adventureBank].sort(() => Math.random() - 0.5).slice(0, 5);
                currentQuestion = 0; scoreA = 0; growthAdviceList = []; positiveAdviceList = [];
                showScreen('question-screen');
                loadQuestion();
            }

            function handleChoice(elementId) {
                const btn = document.getElementById(elementId);
                const type = btn.getAttribute('data-type'), advice = btn.getAttribute('data-advice');
                if (type === 'A') { scoreA++; positiveAdviceList.push(advice); }
                else growthAdviceList.push(advice);
                createExplosion();
                currentQuestion++;
                if (currentQuestion < activeQuestions.length) setTimeout(loadQuestion, 200);
                else showResult();
            }

            function showResult() {
                showScreen('result-screen');
                const titleEl = document.getElementById('result-title');
                const adviceContainer = document.getElementById('result-advice-container');
                const hat = document.getElementById('svg-hat'), cape = document.getElementById('svg-cape');
                const dots = [document.getElementById('dot-1'), document.getElementById('dot-2'), document.getElementById('dot-3')];
                const wrongCount = growthAdviceList.length;

                if (wrongCount >= 2) {
                    titleEl.innerHTML = '<span class="conclusion-prefix">You must learn</span>THE FOLLOWING:';
                    hat.setAttribute('d', 'M50 65 L60 55 Q100 35 140 55 L150 65 Q100 75 50 65');
                    hat.setAttribute('fill', 'rgb(180, 180, 180)');
                    dots.forEach(d => d.style.display = 'none');
                    cape.setAttribute('fill', 'rgb(75, 0, 130)');
                } else {
                    let cat = (scoreA >= 4) ? "high" : "medium";
                    const list = resultCategories[cat];
                    titleEl.innerHTML = '<span class="conclusion-prefix">You are</span>' + list[Math.floor(Math.random() * list.length)];
                    if (cat === "high") {
                        hat.setAttribute('d', 'M60 60 L75 30 L100 50 L125 30 L140 60 Z');
                        hat.setAttribute('fill', 'rgb(255,215,0)');
                        dots.forEach(d => d.style.display = 'block');
                        cape.setAttribute('fill', 'rgb(233, 30, 99)');
                    } else {
                        hat.setAttribute('d', 'M50 65 L60 55 Q100 35 140 55 L150 65 Q100 75 50 65');
                        hat.setAttribute('fill', 'rgb(215, 196, 158)');
                        dots.forEach(d => d.style.display = 'none');
                        cape.setAttribute('fill', 'rgb(33, 150, 243)');
                    }
                }

                adviceContainer.innerHTML = '';
                if (wrongCount > 0) {
                    growthAdviceList.forEach(text => {
                        const p = document.createElement('p');
                        p.className = 'advice-item';
                        p.textContent = text;
                        adviceContainer.appendChild(p);
                    });
                } else {
                    const p = document.createElement('p');
                    p.className = 'advice-item';
                    p.textContent = positiveAdviceList[Math.floor(Math.random() * positiveAdviceList.length)];
                    adviceContainer.appendChild(p);
                    const p2 = document.createElement('p');
                    p2.className = 'advice-item';
                    p2.textContent = "You made every single choice count today!";
                    adviceContainer.appendChild(p2);
                }
            }

            function createExplosion() {
                for (let i = 0; i < 30; i++) {
                    const p = document.createElement('div');
                    p.className = 'particle';
                    p.style.left = '50%'; p.style.top = '50%';
                    p.style.width = 'clamp(8px, 1vw, 20px)'; 
                    p.style.height = 'clamp(8px, 1vw, 20px)';
                    p.style.background = ['#FFD700', '#DAA520', '#FFFFFF'][Math.floor(Math.random()*3)];
                    const angle = Math.random()*Math.PI*2, dist = Math.random()*200 + 100;
                    p.animate([{transform:'translate(0,0)', opacity:1}, {transform:`translate(${Math.cos(angle)*dist}px, ${Math.sin(angle)*dist}px)`, opacity:0}], {duration:800}).onfinish = () => p.remove();
                    document.body.appendChild(p);
                }
            }

            document.getElementById('start-btn').onclick = startGame;
            document.getElementById('btn-a').onclick = () => handleChoice('btn-a');
            document.getElementById('btn-b').onclick = () => handleChoice('btn-b');
            document.getElementById('replay-btn').onclick = () => showScreen('start-screen');
            document.getElementById('home-btn').onclick = () => showScreen('start-screen');
            document.getElementById('fs-btn').onclick = () => {
                if (!document.fullscreenElement) document.documentElement.requestFullscreen().catch(()=>{});
                else document.exitFullscreen();
            };

            window.addEventListener('resize', resize);
            resize(); animate();
            
            document.getElementById('home-btn').style.display = 'none';
        };
    </script>
</body>
</html>

