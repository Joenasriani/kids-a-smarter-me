<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>The Crown of Greatness</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Quicksand:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --safe-area-inset-top: env(safe-area-inset-top, 0px);
            --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
        }

        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(-45deg, rgb(46, 26, 71), rgb(26, 26, 46), rgb(15, 48, 87), rgb(75, 0, 130));
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            font-family: 'Quicksand', sans-serif;
            overflow: hidden;
            color: white;
            height: 100vh;
            height: -webkit-fill-available;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .cinzel { font-family: 'Cinzel', serif; }

        .gold-border {
            border: clamp(2px, 0.5vw, 4px) solid rgb(255, 215, 0);
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.4), inset 0 0 15px rgba(255, 215, 0, 0.2);
        }

        .rainbow-text {
            background: linear-gradient(to right, rgb(239, 83, 80), rgb(244, 143, 177), rgb(126, 87, 194), rgb(33, 150, 243), rgb(38, 198, 218), rgb(67, 160, 71), rgb(238, 255, 65), rgb(249, 168, 37), rgb(255, 87, 34));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: rainbow 5s linear infinite;
            background-size: 200% auto;
        }

        @keyframes rainbow {
            to { background-position: 200% center; }
        }

        .choice-btn-a { background: linear-gradient(135deg, rgb(0, 176, 155), rgb(150, 201, 61)); }
        .choice-btn-b { background: linear-gradient(135deg, rgb(142, 45, 226), rgb(74, 0, 224)); }

        .choice-btn {
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }

        .choice-btn:active { transform: scale(0.95); }

        @media (min-width: 1024px) {
            .choice-btn:hover {
                transform: scale(1.05) rotate(1deg);
                filter: brightness(1.1);
                box-shadow: 0 0 40px rgba(255, 255, 255, 0.3);
            }
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            pointer-events: none;
        }

        .lion-container {
            animation: bounce 3s infinite alternate ease-in-out;
            max-height: 30vh;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 1.5rem 0;
        }

        @keyframes bounce {
            from { transform: translateY(0) scale(1); }
            to { transform: translateY(-15px) scale(1.03); }
        }

        .screen {
            display: none;
            width: 100%;
            height: 100%;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: calc(2rem + var(--safe-area-inset-top)) 2rem calc(2rem + var(--safe-area-inset-bottom));
            text-align: center;
            max-width: 1400px;
            margin: 0 auto;
        }

        .screen.active { display: flex; }

        .bg-canvas-layer {
            position: fixed;
            top: 0; left: 0; z-index: -1;
            width: 100vw; height: 100vh;
        }

        .content-wrap {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 2.5rem;
        }

        .fullscreen-btn {
            position: fixed;
            top: calc(1.5rem + var(--safe-area-inset-top));
            right: 1.5rem;
            z-index: 50;
            background: rgba(255, 215, 0, 0.2);
            border: 2px solid rgb(255, 215, 0);
            border-radius: 12px;
            width: 48px; height: 48px;
            display: flex; align-items: center; justify-content: center;
            color: rgb(255, 215, 0);
            cursor: pointer;
            -webkit-tap-highlight-color: transparent;
        }

        @media (max-height: 500px) {
            .content-wrap { gap: 1rem; }
            .lion-container { margin: 0.5rem 0; }
            .lion-container svg { height: 100px; width: 100px; }
            h1 { font-size: 1.8rem !important; }
            h2 { font-size: 1.3rem !important; }
            p { font-size: 0.9rem !important; }
            .choice-btn { min-height: 70px !important; padding: 0.4rem !important; flex-direction: row !important; gap: 0.8rem; }
            .choice-btn div { font-size: 1.8rem !important; }
            .choice-btn span { font-size: 0.9rem !important; }
        }

        @media (min-width: 1024px) {
            .content-wrap { gap: 4rem; }
            .choice-btn { padding: 3rem !important; }
        }

        @media (min-width: 1920px) {
            .content-wrap { gap: 6rem; }
            h1 { font-size: 7rem !important; }
            h2 { font-size: 3.5rem !important; }
            p { font-size: 2.5rem !important; }
            .choice-btn { min-height: 350px !important; }
        }
    </style>
</head>
<body>

    <canvas id="bg-canvas" class="bg-canvas-layer"></canvas>

    <button onclick="toggleFullScreen()" class="fullscreen-btn" title="Toggle Full Screen">
        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/>
        </svg>
    </button>

    <div id="start-screen" class="screen active">
        <div class="content-wrap">
            <div class="lion-container">
                <svg class="w-28 h-28 sm:w-40 sm:h-40 md:w-56 md:h-56 lg:w-64 lg:h-64" viewBox="0 0 100 100">
                    <circle cx="50" cy="50" r="45" fill="rgba(255, 215, 0, 0.2)" stroke="rgb(255, 215, 0)" stroke-width="2" />
                    <path d="M50 15L58 38H82L63 52L70 75L50 60L30 75L37 52L18 38H42L50 15Z" fill="rgb(255, 215, 0)" />
                </svg>
            </div>
            <div class="space-y-4 md:space-y-8">
                <h1 class="cinzel text-5xl sm:text-7xl md:text-8xl lg:text-9xl rainbow-text uppercase font-black text-center leading-tight">Crown of Greatness</h1>
                <p class="text-xl sm:text-3xl md:text-4xl text-cyan-200 font-bold uppercase tracking-widest px-4">Discover your unique heart!</p>
            </div>
            <button onclick="startGame()" class="bg-gradient-to-r from-yellow-400 via-orange-500 to-red-500 gold-border px-10 py-4 sm:px-20 sm:py-8 rounded-full text-2xl sm:text-4xl cinzel uppercase font-black text-white shadow-2xl transition-transform active:scale-90 hover:brightness-110">Start Quest</button>
        </div>
    </div>

    <div id="question-screen" class="screen">
        <div class="content-wrap">
            <div class="w-full max-w-xl space-y-8">
                <div id="progress-bar" class="w-full h-4 bg-white/10 rounded-full overflow-hidden">
                    <div id="progress-inner" class="h-full bg-gradient-to-r from-cyan-400 to-blue-500 transition-all duration-500" style="width: 0%"></div>
                </div>
                <h2 id="question-text" class="cinzel text-3xl sm:text-5xl md:text-6xl leading-tight text-white drop-shadow-xl font-bold">What would you do?</h2>
            </div>
            
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-8 md:gap-12 lg:gap-16 w-full max-w-6xl">
                <button onclick="handleChoice('A')" class="choice-btn choice-btn-a gold-border p-6 sm:p-12 rounded-3xl sm:rounded-[3rem] flex flex-col items-center justify-center space-y-6 min-h-[180px]">
                    <div id="option-a-icon" class="text-6xl sm:text-8xl lg:text-9xl drop-shadow-lg">üåâ</div>
                    <span id="option-a-text" class="text-lg sm:text-2xl md:text-3xl font-black uppercase text-white leading-tight">Bridge Builder</span>
                </button>
                <button onclick="handleChoice('B')" class="choice-btn choice-btn-b gold-border p-6 sm:p-12 rounded-3xl sm:rounded-[3rem] flex flex-col items-center justify-center space-y-6 min-h-[180px]">
                    <div id="option-b-icon" class="text-6xl sm:text-8xl lg:text-9xl drop-shadow-lg">üóº</div>
                    <span id="option-b-text" class="text-lg sm:text-2xl md:text-3xl font-black uppercase text-white leading-tight">Solo Climber</span>
                </button>
            </div>
        </div>
    </div>

    <div id="result-screen" class="screen">
        <div class="content-wrap">
            <h1 id="result-title" class="cinzel text-4xl sm:text-6xl md:text-8xl rainbow-text font-black uppercase leading-tight">AWESOME!</h1>
            <div class="lion-container">
                <svg id="result-svg" class="w-48 h-48 sm:w-64 sm:h-64 md:w-80 md:h-80 lg:w-96 lg:h-96" viewBox="0 0 200 200">
                    <circle cx="100" cy="100" r="80" fill="url(#auraGrad)" opacity="0.6" />
                    <defs>
                        <radialGradient id="auraGrad">
                            <stop offset="0%" stop-color="rgb(255, 215, 0)" />
                            <stop offset="100%" stop-color="transparent" />
                        </radialGradient>
                    </defs>
                    <path id="svg-cape" d="M30 70 Q100 20 170 70 L190 190 Q100 160 10 190 Z" fill="rgb(233, 30, 99)" />
                    <circle id="svg-mane" cx="100" cy="100" r="65" fill="rgb(255, 152, 0)" />
                    <circle id="svg-mane-inner" cx="100" cy="100" r="55" fill="rgb(255, 235, 59)" />
                    <ellipse cx="100" cy="110" rx="45" ry="50" fill="rgb(255, 224, 178)" />
                    <circle cx="82" cy="100" r="7" fill="rgb(26, 26, 46)" />
                    <circle cx="118" cy="100" r="7" fill="rgb(26, 26, 46)" />
                    <circle cx="84" cy="98" r="2" fill="white" />
                    <circle cx="120" cy="98" r="2" fill="white" />
                    <path d="M92 120 L108 120 L100 128 Z" fill="rgb(93, 64, 55)" />
                    <g id="accessory-group">
                        <path id="svg-hat" d="M60 60 L75 30 L100 50 L125 30 L140 60 Z" fill="rgb(255, 215, 0)" stroke="rgb(255, 143, 0)" stroke-width="3"/>
                        <circle id="dot-1" cx="60" cy="60" r="5" fill="rgb(244, 67, 54)" />
                        <circle id="dot-2" cx="100" cy="50" r="5" fill="rgb(33, 150, 243)" />
                        <circle id="dot-3" cx="140" cy="60" r="5" fill="rgb(76, 175, 80)" />
                    </g>
                </svg>
            </div>
            <div class="space-y-8 max-w-4xl">
                <p id="result-text" class="text-xl sm:text-3xl md:text-4xl text-yellow-200 font-bold px-6 leading-relaxed">You are a hero in your own special way!</p>
                <button onclick="resetGame()" class="text-white bg-white/20 px-12 py-5 rounded-full cinzel text-xl sm:text-2xl font-black uppercase tracking-widest active:scale-95 hover:bg-white/30 transition-all shadow-xl">Play Again</button>
            </div>
        </div>
    </div>

    <script>
        const adventureBank = [
            { q: "A chocolate river blocks the way!", a: { text: "Build a candy bridge for all", icon: "üåà" }, b: { text: "Fly a solo balloon", icon: "üéà" } },
            { q: "You find magical glowing seeds!", a: { text: "Plant a forest for the town", icon: "üå∏" }, b: { text: "Grow a secret tree", icon: "üí°" } },
            { q: "The sky turns grey! Help out?", a: { text: "Lead a sun-parade", icon: "üé∫" }, b: { text: "Paint a bright picture", icon: "üé®" } },
            { q: "A lonely dragon is crying!", a: { text: "Invite the village to play", icon: "üêâ" }, b: { text: "Give a toy and go home", icon: "üß∏" } },
            { q: "Library books are mixed up!", a: { text: "Team cleanup party", icon: "üìö" }, b: { text: "Read one book quietly", icon: "üïØÔ∏è" } },
            { q: "A golden bird is stuck high up!", a: { text: "Ask friends for help", icon: "ü¶ú" }, b: { text: "Climb the tree alone", icon: "üßó" } },
            { q: "The royal garden is thirsty!", a: { text: "Ask your friends for buckets", icon: "üíß" }, b: { text: "Use your magic wand", icon: "ü™Ñ" } },
            { q: "A shooting star lands nearby!", a: { text: "Make a wish for everyone", icon: "‚≠ê" }, b: { text: "Follow it to find treasure", icon: "üíé" } }
        ];

        let activeQuestions = [], currentQuestion = 0, scoreA = 0;
        const canvas = document.getElementById('bg-canvas'), ctx = canvas.getContext('2d');
        let particles = [];

        function resize() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            initParticles();
        }

        class Particle {
            constructor() { this.reset(); }
            reset() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 4 + 1;
                this.speedX = (Math.random() - 0.5) * 1.5;
                this.speedY = (Math.random() - 0.5) * 1.5;
                this.opacity = Math.random();
                const colors = ['rgb(255,215,0)', 'rgb(255,20,147)', 'rgb(0,191,255)', 'rgb(173,255,47)'];
                this.color = colors[Math.floor(Math.random() * colors.length)];
            }
            update() {
                this.x += this.speedX; this.y += this.speedY;
                if (this.x < 0 || this.x > canvas.width || this.y < 0 || this.y > canvas.height) this.reset();
            }
            draw() {
                ctx.fillStyle = this.color; ctx.globalAlpha = this.opacity * 0.4;
                ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2); ctx.fill();
            }
        }

        function initParticles() {
            particles = [];
            const count = window.innerWidth < 768 ? 50 : 150;
            for (let i = 0; i < count; i++) particles.push(new Particle());
        }

        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles.forEach(p => { p.update(); p.draw(); });
            requestAnimationFrame(animate);
        }

        function toggleFullScreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen().catch(() => {});
            } else {
                document.exitFullscreen();
            }
        }

        function startGame() {
            activeQuestions = [...adventureBank].sort(() => Math.random() - 0.5).slice(0, 5);
            currentQuestion = 0; scoreA = 0;
            showScreen('question-screen');
            loadQuestion();
        }

        function showScreen(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        function loadQuestion() {
            const data = activeQuestions[currentQuestion];
            document.getElementById('question-text').innerText = data.q;
            document.getElementById('option-a-text').innerText = data.a.text;
            document.getElementById('option-a-icon').innerText = data.a.icon;
            document.getElementById('option-b-text').innerText = data.b.text;
            document.getElementById('option-b-icon').innerText = data.b.icon;
            document.getElementById('progress-inner').style.width = `${(currentQuestion / activeQuestions.length) * 100}%`;
        }

        function handleChoice(choice) {
            if (choice === 'A') scoreA++;
            createExplosion();
            currentQuestion++;
            if (currentQuestion < activeQuestions.length) loadQuestion();
            else showResult();
        }

        function showResult() {
            showScreen('result-screen');
            launchConfetti();
            const title = document.getElementById('result-title'), text = document.getElementById('result-text');
            const hat = document.getElementById('svg-hat'), cape = document.getElementById('svg-cape');
            const dots = [document.getElementById('dot-1'), document.getElementById('dot-2'), document.getElementById('dot-3')];

            if (scoreA >= 3) {
                title.innerText = "LION HEART!";
                text.innerText = "You are a Kindhearted Hero! You make the whole kingdom shine with happiness and leadership.";
                hat.setAttribute('d', 'M60 60 L75 30 L100 50 L125 30 L140 60 Z');
                hat.setAttribute('fill', 'rgb(255,215,0)');
                dots.forEach(d => d.style.display = 'block');
                cape.setAttribute('fill', 'rgb(233,30,99)');
            } else {
                title.innerText = "EXPLORER!";
                text.innerText = "You are a Brave Adventurer! You lead the way with your smart ideas and bold heart.";
                hat.setAttribute('d', 'M50 65 L60 55 Q100 35 140 55 L150 65 Q100 75 50 65');
                hat.setAttribute('fill', 'rgb(215,196,158)');
                dots.forEach(d => d.style.display = 'none');
                cape.setAttribute('fill', 'rgb(33,150,243)');
            }
        }

        function resetGame() { showScreen('start-screen'); }

        function createExplosion() {
            const colors = ['#FFD700', '#FF1493', '#00BFFF', '#ADFF2F'];
            for (let i = 0; i < 30; i++) {
                const p = document.createElement('div');
                p.className = 'particle';
                p.style.left = '50%'; p.style.top = '50%';
                p.style.width = '12px'; p.style.height = '12px';
                p.style.background = colors[Math.floor(Math.random() * colors.length)];
                p.style.boxShadow = '0 0 15px white';
                const angle = Math.random() * Math.PI * 2, dist = Math.random() * 200 + 50;
                p.animate([{ transform: 'translate(0,0) scale(1.5)', opacity: 1 }, { transform: `translate(${Math.cos(angle)*dist}px, ${Math.sin(angle)*dist}px) scale(0)`, opacity: 0 }], { duration: 600, easing: 'ease-out' }).onfinish = () => p.remove();
                document.body.appendChild(p);
            }
        }

        function launchConfetti() {
            const interval = setInterval(() => {
                if (!document.getElementById('result-screen').classList.contains('active')) { clearInterval(interval); return; }
                const p = document.createElement('div');
                p.className = 'particle';
                p.style.left = Math.random() * 100 + 'vw'; p.style.top = '105vh';
                p.style.width = '14px'; p.style.height = '14px';
                p.style.background = `hsl(${Math.random()*360}, 80%, 65%)`;
                p.style.boxShadow = '0 0 10px rgba(255,255,255,0.5)';
                p.animate([{ transform: 'translateY(0)', opacity: 1 }, { transform: 'translateY(-110vh) rotate(720deg)', opacity: 0 }], { duration: 2500, easing: 'linear' }).onfinish = () => p.remove();
                document.body.appendChild(p);
            }, 50);
        }

        window.addEventListener('resize', resize);
        resize();
        animate();
    </script>
</body>
</html>

